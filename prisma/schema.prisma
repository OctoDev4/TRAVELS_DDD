// schema.prisma

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum userRole {
  ADM
  MEMBER
}

// Modelo de Usuário
model User {
  id       String   @id @default(uuid())
  name     String
  email    String
  role     userRole @default(MEMBER) @map("user_role")
  password String
  phone    String
  jobRole  String
  // Relação com viagens do usuário
  travels  Travel[]

  @@map("users")
}

// Modelo de Viagem
model Travel {
  id            String    @id @default(uuid())
  reason        String?
  startDate     DateTime  @default(now())
  endDate       DateTime?
  destination   String
  totalExpenses Float?    @default(0) // Gastos totais da viagem

  // Chave estrangeira para associar a viagem ao usuário
  employeeId String

  // Relação com o usuário
  employee User @relation(fields: [employeeId], references: [id])

  @@map("travels")
}
